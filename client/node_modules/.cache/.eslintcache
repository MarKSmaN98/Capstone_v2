[{"/home/mark/Development/code/phase-5/myProject_v1/client/src/index.js":"1","/home/mark/Development/code/phase-5/myProject_v1/client/src/reportWebVitals.js":"2","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/App.js":"3","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Cart.js":"4","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Homepage.js":"5","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Navbar.js":"6","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Products.js":"7","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Account.js":"8","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Login.js":"9","/home/mark/Development/code/phase-5/myProject_v1/client/src/context/user.js":"10","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/ProductCard.js":"11","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/CheckUser.js":"12"},{"size":721,"mtime":1682919463226,"results":"13","hashOfConfig":"14"},{"size":362,"mtime":1682343645009,"results":"15","hashOfConfig":"14"},{"size":1490,"mtime":1682973041405,"results":"16","hashOfConfig":"14"},{"size":6646,"mtime":1683089598988,"results":"17","hashOfConfig":"14"},{"size":407,"mtime":1683034626846,"results":"18","hashOfConfig":"14"},{"size":604,"mtime":1682973126475,"results":"19","hashOfConfig":"14"},{"size":4545,"mtime":1683093080096,"results":"20","hashOfConfig":"14"},{"size":1281,"mtime":1682970658545,"results":"21","hashOfConfig":"14"},{"size":4663,"mtime":1682969679736,"results":"22","hashOfConfig":"14"},{"size":380,"mtime":1682971889495,"results":"23","hashOfConfig":"14"},{"size":57,"mtime":1682456112546,"results":"24","hashOfConfig":"14"},{"size":1077,"mtime":1683034857836,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","suppressedMessages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1fdhp2s",{"filePath":"29","messages":"30","suppressedMessages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/home/mark/Development/code/phase-5/myProject_v1/client/src/index.js",["64","65"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/reportWebVitals.js",[],[],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/App.js",["66","67"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Cart.js",["68","69","70","71"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Homepage.js",["72","73"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Navbar.js",["74","75"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Products.js",["76","77","78","79","80","81","82","83","84"],[],"import ProductCard from \"./ProductCard\"\nimport { useContext, useState, useEffect } from \"react\"\nimport { UserContext } from \"../context/user\"\n\nfunction Products () {\n    const {user, setUser} = useContext(UserContext)\n    const [carts, setCarts] = useState([{'name': 'default'}])\n    const [currentCart, setCurrentCart] = useState({'name': 'default'})\n    const [searchState, setSearchState] = useState('')\n    const [productList, setProductList] = useState([])\n    useEffect(() => {\n        fetch('/items').then(r => r.json()).then(body => {setProductList(body)})\n        if (!user) {\n            fetch('/check').then(r => {\n                if (r.ok) {\n                    return r.json();\n                }\n                else {\n                    setUser({\n                        'name': 'Guest',\n                        'user_carts': [\n                            {\n                                'name': 'GuestCart',\n                                'items': []\n                            }\n                        ]\n                    });\n                    console.log('welcome, guest');\n                }\n            })\n            .then(body => {\n                setUser(body);\n                setCarts(body.user_carts)\n                setCurrentCart(body.user_carts[0])\n            })\n        }\n        else{\n            setCarts(user.user_carts)\n            setCurrentCart(user.user_carts[0])\n        }\n\n    },[])\n\n    if (!user) {\n        return (<div>...loading</div>)\n    }\n\n    let getCIID = (cart, item) => {\n        \n    }\n\n    let handleAddClick = (e) => {\n        let id = e.target.id\n        let itemincart = currentCart.items.filter(item => {\n            return (item.id == id)\n        })\n        console.log(itemincart)\n        if (itemincart.length > 0) {\n            console.log('item in cart')\n            let ciInternal = currentCart.cart_items.filter(ci => {return (ci.item_id == id && ci.cart.id == currentCart.id)})\n\n            fetch(`/getCIID/${currentCart.id}/${id}`).then(r => r.json()).then(ciid => { //get id for cart_item\n                console.log(ciid)\n                fetch(`http://localhost:5555/cart_items/${ciid}`, { //update that cart_item >> quantity + 1\n                    method: 'PATCH',\n                    headers: {\n                        'Content-Type': 'application/json'\n                    },\n                    body: JSON.stringify({'quantity': (ciInternal[0].quantity + 1)})\n                }).then(r => {\n                    if (r.ok) {\n                        return r.json()\n                    }\n                    else {\n\n                    }\n                }).then(body => {\n                    ciInternal[0].quantity += 1\n                })\n            })\n        }\n\n        else {\n            console.log('item not in cart')\n            fetch('/cart_items', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                    'cart_id': currentCart.id,\n                    'item_id': id,\n                    'quantity': 1\n                })\n            }).then(r => {\n                if (r.ok) {\n                    console.log('posted')\n                    return r.json()\n                }\n            }).then(body => {\n                let target = currentCart.cart_items\n                console.log(target, 'before')\n                let y = target.push(body)\n                console.log('y', y)\n                console.log(target, 'after')\n            })\n        }\n    }\n\n\n    let renderProducts = productList.map((product) => {\n        return (\n            <div className=\"productCard\" key={`productCard-${product.key}`}>\n                <img src={product.img} alt={product.img} />\n                <h2>{product.title}</h2>\n                <p>{product.price}</p>\n                <button id={product.id} onClick={handleAddClick}>Add to Cart</button>\n            </div>\n        )\n    })\n    console.log('cart', currentCart.id)\n    return (\n        <div className=\"productPage\">\n            <div className=\"search\">\n                <form id='searchform'>\n                    <input name='searchfield' placeholder=\"Search...\"></input>\n                    <button type='submit'>üîç</button>\n                </form>\n            </div>\n            <div className=\"options\">\n    \n            </div>\n            <div className=\"productContainer\">\n                {renderProducts}\n            </div>\n        </div>\n    )\n\n}\n\nexport default Products","/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Account.js",[],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/Login.js",[],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/context/user.js",["85"],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/ProductCard.js",[],[],"/home/mark/Development/code/phase-5/myProject_v1/client/src/components/CheckUser.js",["86","87"],[],{"ruleId":"88","severity":1,"message":"89","line":7,"column":10,"nodeType":"90","messageId":"91","endLine":7,"endColumn":18},{"ruleId":"88","severity":1,"message":"92","line":8,"column":10,"nodeType":"90","messageId":"91","endLine":8,"endColumn":21},{"ruleId":"88","severity":1,"message":"93","line":3,"column":24,"nodeType":"90","messageId":"91","endLine":3,"endColumn":32},{"ruleId":"88","severity":1,"message":"94","line":16,"column":10,"nodeType":"90","messageId":"91","endLine":16,"endColumn":18},{"ruleId":"95","severity":1,"message":"96","line":45,"column":7,"nodeType":"97","endLine":45,"endColumn":13,"suggestions":"98"},{"ruleId":"99","severity":1,"message":"100","line":60,"column":56,"nodeType":"101","messageId":"102","endLine":60,"endColumn":58},{"ruleId":"99","severity":1,"message":"100","line":91,"column":56,"nodeType":"101","messageId":"102","endLine":91,"endColumn":58},{"ruleId":"99","severity":1,"message":"100","line":106,"column":56,"nodeType":"101","messageId":"102","endLine":106,"endColumn":58},{"ruleId":"88","severity":1,"message":"89","line":2,"column":10,"nodeType":"90","messageId":"91","endLine":2,"endColumn":18},{"ruleId":"88","severity":1,"message":"103","line":2,"column":32,"nodeType":"90","messageId":"91","endLine":2,"endColumn":41},{"ruleId":"88","severity":1,"message":"104","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":11},{"ruleId":"105","severity":1,"message":"106","line":14,"column":13,"nodeType":"107","endLine":14,"endColumn":45},{"ruleId":"88","severity":1,"message":"108","line":1,"column":8,"nodeType":"90","messageId":"91","endLine":1,"endColumn":19},{"ruleId":"88","severity":1,"message":"109","line":7,"column":12,"nodeType":"90","messageId":"91","endLine":7,"endColumn":17},{"ruleId":"88","severity":1,"message":"110","line":9,"column":12,"nodeType":"90","messageId":"91","endLine":9,"endColumn":23},{"ruleId":"88","severity":1,"message":"111","line":9,"column":25,"nodeType":"90","messageId":"91","endLine":9,"endColumn":39},{"ruleId":"95","severity":1,"message":"112","line":42,"column":7,"nodeType":"97","endLine":42,"endColumn":9,"suggestions":"113"},{"ruleId":"88","severity":1,"message":"114","line":48,"column":9,"nodeType":"90","messageId":"91","endLine":48,"endColumn":16},{"ruleId":"99","severity":1,"message":"100","line":55,"column":29,"nodeType":"101","messageId":"102","endLine":55,"endColumn":31},{"ruleId":"99","severity":1,"message":"100","line":60,"column":86,"nodeType":"101","messageId":"102","endLine":60,"endColumn":88},{"ruleId":"99","severity":1,"message":"100","line":60,"column":106,"nodeType":"101","messageId":"102","endLine":60,"endColumn":108},{"ruleId":"88","severity":1,"message":"103","line":1,"column":26,"nodeType":"90","messageId":"91","endLine":1,"endColumn":35},{"ruleId":"88","severity":1,"message":"93","line":2,"column":10,"nodeType":"90","messageId":"91","endLine":2,"endColumn":18},{"ruleId":"95","severity":1,"message":"115","line":12,"column":8,"nodeType":"97","endLine":12,"endColumn":14,"suggestions":"116"},"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","'UserContext' is defined but never used.","'Navigate' is defined but never used.","'isLogged' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'setUser'. Either include it or remove the dependency array.","ArrayExpression",["117"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'useEffect' is defined but never used.","'Nav' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","'ProductCard' is defined but never used.","'carts' is assigned a value but never used.","'searchState' is assigned a value but never used.","'setSearchState' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'setUser' and 'user'. Either include them or remove the dependency array.",["118"],"'getCIID' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'navigate'. Either include it or remove the dependency array.",["119"],{"desc":"120","fix":"121"},{"desc":"120","fix":"122"},{"desc":"123","fix":"124"},"Update the dependencies array to be: [setUser, user]",{"range":"125","text":"126"},{"range":"127","text":"126"},"Update the dependencies array to be: [navigate, user]",{"range":"128","text":"129"},[1415,1421],"[setUser, user]",[1427,1429],[366,372],"[navigate, user]"]